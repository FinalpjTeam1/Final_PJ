<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.heal.dao.MemberDao">

		<resultMap type="com.heal.dto.Member" id="member">
				<result property="id" column="id"/>
				<result property="nick" column="nick"/>
				<result property="mobile" column="mobile"/>
				<result property="gender" column="gender"/>
				<result property="age" column="age"/>
				<result property="last_login" column="last_login"/>
				<result property="entry_date" column="entry_date"/>
				<result property="grade" column="grade"/>
		</resultMap>
		
	<!-- public String login(String memberId, String memberPw); -->
	<select id="login" resultType="String" parameterType="map">
		select grade 
		from member 
		where id = #{id} and pw = #{pw}
	</select>
	
	<!-- public Member loginToMember(String memberId, String memberPw) -->
	<select id="loginToMember" resultType="com.heal.dto.Member" parameterType="map">
		select * 
		from member 
		where id=#{id} and pw=#{pw}
	</select>
	
	<insert id="updateLastLogin" >
       	UPDATE MEMBER SET last_login = #{last} WHERE ID = #{id}
      </insert>
	
</mapper>








